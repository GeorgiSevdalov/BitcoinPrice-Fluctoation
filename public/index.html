<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bitcoin fluctoation</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <div>
            <h1>Bitcoin price fluctoation</h1>
            <h2>Good information leads to good decision.</h2>
        </div>
    </header>
    <section>
        <div>
            <ul>
                <li>
                    <h4>Current bitcoin price:</h4>
                </li>
                <!-- set interval -->
                <li><textarea class="moment-pirce" name="moment-pirce" id="moment-pirce" readonly="readonly" cols="19"
                        rows="1"></textarea>
                </li>
            </ul>
        </div>
    </section>
    <section class="picBitc">
        <div class="averageData" id="prim">
            <h4>Calculate average price.</h4>
            <ul class="averageUl">
                <li class="weekLi">
                    <p>Week status:</p>
                    <textarea class="averageText" name="week-pirce" id="week-pirce" readonly="readonly" cols="24"
                        rows="2"></textarea>
                    <textarea class="averageText" id="weekH" readonly="readonly" cols="24" rows="2"></textarea>
                    <textarea class="averageText" id="weekL" readonly="readonly" cols="24" rows="2"></textarea>
                </li>
                <li class="monthLi">
                    <p>Month status:</p>
                    <textarea class="averageText" name="week-pirce" id="month-pirce" readonly="readonly" cols="24"
                        rows="2"></textarea>
                    <textarea class="averageText" id="monthH" readonly="readonly" cols="24" rows="2"></textarea>
                    <textarea class="averageText" id="monthL" readonly="readonly" cols="24" rows="2"></textarea>
                </li>

            </ul>

        </div>
        <div class="previousBtn btnAverage">
            <button class="btn" onclick="toggleElement()">show details</details></button>
        </div>
    </section>
    <section>
        <div class="footer">
            <img src="./pic/2.jpg">
            <div class="previous">
                <ul>
                    <li>
                        <h4>See previous value:</h4>
                    </li>
                    <li class="previousBtn">
                        <button onclick="toggleWeek()" class="btn">for week</button>
                        <button onclick="toggleMonth()" class="btn">for month</button>
                    </li>
                </ul>
            </div>
            <div id="prim1" class="averageData">
                <p>values for last 7 days:</p>
                <textarea class="averageText" readonly="readonly" id="weekJson" cols="19" rows="7"></textarea>
            </div>
            <div id="prim2" class="averageData">
                <p>values for last 28 days:</p>
                <textarea class="averageText" readonly="readonly" id="monthJson" cols="19" rows="8"></textarea>
            </div>
        </div>
    </section>


    <script>
        fetch("../dataJSON/dataForHtml.json")
            .then(response => response.json())
            .then(data => {
                console.log(data)
                document.querySelector("#moment-pirce").innerText = (`${data.momentPrice.price}$`)
                document.querySelector("#week-pirce").innerText = (`Average price for week: ${data.week.averagePrice}$`)
                document.querySelector("#weekH").innerText = (`Highest price for period: ${data.week.highest}$`)
                document.querySelector("#weekL").innerText = (`Lowest price for period: ${data.week.lowest}$`)
                document.querySelector("#month-pirce").innerText = (`Average price for week: ${data.month.averagePrice}$`)
                document.querySelector("#monthH").innerText = (`Highest price for period: ${data.month.highest}$`)
                document.querySelector("#monthL").innerText = (`Lowest price for period: ${data.month.lowest}$`)
            })

        function toggleElement() {
            let x = document.getElementById("prim");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }

        function toggleWeek() {
            let x = document.getElementById("prim1");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }

        function toggleMonth() {
            let x = document.getElementById("prim2");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }

        fetch("../dataJSON/weekMonthData.json")
            .then(response => response.json())
            .then(data => {
                console.log(data)
                document.querySelector("#weekJson").innerText = data.weekData.arrayW
                document.querySelector("#monthJson").innerText = data.monthData.arrayM
            })
    </script>
    <!-- <footer class="footer">
        <img src="./pic/2.jpg">
    </footer> -->
</body>

</html>